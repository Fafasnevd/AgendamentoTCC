(this["webpackJsonpsistema-agendamento"]=this["webpackJsonpsistema-agendamento"]||[]).push([[8],{100:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(58),o=n.n(r),a=n(71),u=n(79),s=n(80),i=n(83),l=n(81),d=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("error",e),console.log("info",t)}},{key:"render",value:function(){return this.props.children(this.state.hasError)}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("error getDeliveredStateFromError",e.message),{hasError:!0}}}]),n}(c.PureComponent),f=n(3);o.a.render(Object(f.jsx)(d,{children:function(e){return Object(f.jsx)(a.a,{hasError:e})}}),document.getElementById("root"))},11:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return v})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return k}));var c=n(10),r=n(1),o=n(14),a=n(3),u=Object(r.createContext)();function s(e){var t=e.children,n=Object(r.useState)({isUserLoggedIn:!1,user:null}),s=Object(c.a)(n,2),i=s[0],l=s[1],d=Object(r.useCallback)((function(){var e=new o.a.auth.GoogleAuthProvider;o.a.auth().signInWithRedirect(e)}),[]),f=Object(r.useCallback)((function(){o.a.auth().signOut().then((function(){console.log("o cara deslogou"),l({isUserLoggedIn:!1,user:null})}))}),[]);return Object(a.jsx)(u.Provider,{value:{login:d,logout:f,userInfo:i,setUserInfo:l},children:t})}var i=Object(r.createContext)();function l(e){var t=e.children,n=Object(r.useState)({isUserLoggedIn:!1,user:null}),u=Object(c.a)(n,2),s=u[0],l=u[1],d=Object(r.useCallback)((function(e,t){console.log(e,t),o.a.auth().signInWithEmailAndPassword(e,t).then((function(e){l({isUserLoggedIn:!!e,user:e}),console.log("USUARIO ",e)})).catch((function(e){var t=e.code,n=e.message;console.log("ERRO ADMIN LOGIN ",t,n)}))}),[]),f=Object(r.useCallback)((function(e,t){o.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){l({isUserLoggedIn:!!e,user:e})})).catch((function(e){var t=e.code,n=e.message;console.log("ERRRO CRIAR USER ",t,n)}))}),[]),b=Object(r.useCallback)((function(){o.a.auth().signOut().then((function(){console.log("o cara deslogou"),l({isUserLoggedIn:!1,user:null})}))}),[]);return Object(a.jsx)(i.Provider,{value:{login:d,logout:b,createUser:f,adminInfo:s,setAdminInfo:l},children:t})}var d=n(37),f=n(47),b=n(20),j=Object(r.createContext)(),h="admin/scheduling/professionals",O="admin/scheduling/procedures",m="schedules";function g(e){var t=e.children,n=o.a.firestore(),u=Object(r.useState)((function(){return[]})),s=Object(c.a)(u,2),i=s[0],l=s[1],g=Object(r.useState)((function(){return[]})),p=Object(c.a)(g,2),v=p[0],x=p[1],S=Object(r.useState)((function(){return{}})),C=Object(c.a)(S,2),I=C[0],P=C[1],k=Object(r.useState)((function(){return[]})),y=Object(c.a)(k,2),E=y[0],U=y[1],A=Object(r.useCallback)((function(e){n.collection(m).where("userEmail","==",e.user.email).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));console.log("uSchedules",t),U(t)}))}),[]),w=Object(r.useCallback)((function(){n.collection(O).get().then((function(e){var t=e.docs.map((function(e){return Object(b.a)({id:e.id},e.data())}));l(t)}))}),[]),z=Object(r.useCallback)((function(e){return n.collection(O).add(e).then((function(e){return{success:!0,message:"Procedimento adicionado!"}})).catch((function(e){return{success:!1,message:"Houve um erro."}}))}),[]),L=Object(r.useCallback)((function(){n.collection(m).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(b.a)({id:e.id},e.data())}));x(t)}))}),[]),R=Object(r.useCallback)((function(e){return n.collection(m).add(e).then((function(e){return{success:!0,message:"Pagamento salvo!"}})).catch((function(e){return{success:!1,message:"Houve um erro."}}))}),[]),N=Object(r.useCallback)((function(e){var t=e.id,c=Object(f.a)(e,["id"]);return n.collection(O).doc(t).update(Object(b.a)({},c)).then((function(){return{success:!0,message:"Procedimento atualizado!"}})).catch((function(e){return console.log("updateProcedure error",e),{success:!1,message:"Houve um erro ao atualizar."}}))}),[]),D=Object(r.useCallback)((function(){return n.collection(h).get().then((function(e){var t={};e.forEach((function(e){Object.assign(t,Object(d.a)({},e.id,e.data()))})),P(t)}))}),[]),H=Object(r.useCallback)((function(e){return n.collection(O).doc(e.id).delete().then((function(){return{success:!0,message:"".concat(e.name," excluido(a)!")}})).then((function(e){return e})).catch((function(){return{success:!0,message:"Houve um erro ao excluir."}}))}),[]),J=Object(r.useCallback)((function(e){return n.collection(h).add(e).then((function(e){return{success:!0,message:"Profissional adicionado!"}})).catch((function(e){return{success:!1,message:"Houve um erro."}}))}),[]),T=Object(r.useCallback)((function(e){var t=e.id,c=Object(f.a)(e,["id"]);return n.collection(h).doc(t).update(Object(b.a)({},c)).then((function(){return{success:!0,message:"Profissional atualizado!"}})).catch((function(e){return console.log("updateProfessional error",e),{success:!1,message:"Houve um erro ao atualizar."}}))}),[]),W=Object(r.useCallback)((function(e){return n.collection(h).doc(e.id).delete().then((function(){return{success:!0,message:"".concat(e.name," excluido(a)!")}})).then((function(e){return e})).catch((function(){return{success:!0,message:"Houve um erro ao excluir."}}))}),[]);return Object(a.jsx)(j.Provider,{value:{procedures:i,addProcedure:z,schedules:v,fetchSchedules:L,submitSchedule:R,updateProcedure:N,fetchProcedures:w,deleteProcedure:H,professionals:I,fetchProfessionals:D,addProfessional:J,updateProfessional:T,deleteProfessional:W,userSchedules:E,fetchUserSchedules:A},children:t})}var p=Object(r.createContext)();function v(e){var t=e.children,n=Object(r.useState)((function(){var e=localStorage.getItem("schedules");return null!==e?JSON.parse(e):(localStorage.setItem("schedules",JSON.stringify([])),[])})),o=Object(c.a)(n,2),u=o[0],s=o[1],i=Object(r.useState)((function(){return{}})),l=Object(c.a)(i,2),d=l[0],f=l[1];return Object(a.jsx)(p.Provider,{value:{schedules:u,addScheduleToShoppingCart:function(e){s((function(t){var n=t.concat(e);return localStorage.setItem("schedules",JSON.stringify(n)),n}))},removeScheduleFromShoppingCart:function(e){s((function(t){var n=t.filter((function(t){return t!==e}));return localStorage.setItem("schedules",JSON.stringify(n)),n}))},paymentDetails:d,setPaymentStatusDetails:function(e){f(e)},resetShoppingCart:function(){s([]),localStorage.setItem("schedules",JSON.stringify([]))}},children:t})}var x=n(116),S=n(119),C=n(120),I=n(121),P=n(9),k=Object(r.createContext)();function y(e){var t=e.children;Object(r.useEffect)((function(){}));var n=[{label:"Home",icon:Object(a.jsx)(x.a,{}),to:{pathname:P.m}},{label:"Reservas",icon:Object(a.jsx)(S.a,{}),to:{pathname:P.p}},{label:"Agendar",icon:Object(a.jsx)(C.a,{}),to:{pathname:P.q}},{label:"Mais",icon:Object(a.jsx)(I.a,{}),to:{pathname:P.o}}],o=Object(r.useState)(n),u=Object(c.a)(o,1)[0];return Object(a.jsx)(k.Provider,{value:{appState:{toolbarItems:u}},children:t})}},14:function(e,t,n){"use strict";var c=n(45);n(92),n(101);c.a.apps.length||c.a.initializeApp({apiKey:"AIzaSyC7LoaM9pv0tdzjnPDFXNyXWrmqMwC7LXQ",authDomain:"agendamento-web-ea083.firebaseapp.com",projectId:"agendamento-web-ea083",storageBucket:"agendamento-web-ea083.appspot.com",messagingSenderId:"227455752712",appId:"1:227455752712:web:6b03c4cf23da9c14910fbd",measurementId:"G-TEKG6V9T0W"}),t.a=c.a},35:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return i}));var c=n(1),r=n(11);var o=function(){return Object(c.useContext)(r.e)};var a=function(){return Object(c.useContext)(r.a)};var u=function(){return Object(c.useContext)(r.g)};var s=function(){return Object(c.useContext)(r.i)};var i=function(){return Object(c.useContext)(r.c)}},61:function(e,t,n){"use strict";t.a=function(e,t){var n=new RegExp("^".concat(e),"ig");return t.search(n)>-1}},71:function(e,t,n){"use strict";(function(e){var c,r=n(56),o=(n(1),n(78)),a=n(46),u=n(34),s=n(6),i=n(53),l=n(103),d=n(104),f=n(11),b=n(82),j=n(3),h=Object(i.a)({typography:{useNextVariants:!0},palette:{primary:{contrastText:"#fff",dark:"#560027",light:"#bc477b",main:"#880e4f"},secondary:{contrastText:"#fff",dark:"#78002e",light:"#e35083",main:"#ad1357"}}});console.log("theme",h);var O=Object(a.b)(c||(c=Object(r.a)(["\n  #root{\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n"])));t.a=Object(o.hot)(e)((function(){return Object(j.jsx)(l.a,{theme:h,children:Object(j.jsx)(a.a,{theme:h,children:Object(j.jsx)(f.f,{children:Object(j.jsx)(f.h,{children:Object(j.jsx)(f.j,{children:Object(j.jsxs)(f.d,{children:[Object(j.jsx)(d.a,{}),Object(j.jsx)(O,{}),Object(j.jsx)(u.a,{children:Object(j.jsx)(s.b,{component:b.a})})]})})})})})})}))}).call(this,n(91)(e))},82:function(e,t,n){"use strict";var c=n(20),r=n(1),o=n.n(r),a=n(9),u=n(10),s=n(6),i=n(122),l=n(14),d=n(35),f=n(3),b=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(15)]).then(n.bind(null,878))})),j=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(25)]).then(n.bind(null,889))}));var h=function(e){var t=e.location,n=Object(d.c)(),o=n.userInfo,h=n.setUserInfo,O=Object(r.useState)(!1),m=Object(u.a)(O,2),g=m[0],p=m[1],v=o.isUserLoggedIn;return Object(r.useEffect)((function(){l.a.auth().onAuthStateChanged((function(e){h({isUserLoggedIn:!!e,user:e&&Object(c.a)(Object(c.a)({},e),{},{firstName:e.displayName.split(" ")[0]})}),p(!0)}))}),[h]),g?v&&t.pathname===a.n?Object(f.jsx)(s.a,{to:a.j}):v||t.pathname!=a.j?Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(i.a,{}),children:Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{path:a.n,component:j}),Object(f.jsx)(s.b,{component:b})]})}):Object(f.jsx)(s.a,{to:a.n}):Object(f.jsx)(i.a,{})},O=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(13),n.e(29)]).then(n.bind(null,882))})),m=o.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(4),n.e(28)]).then(n.bind(null,890))}));var g=function(e){var t=e.location,n=Object(d.a)(),c=n.adminInfo,o=n.setAdminInfo,b=Object(r.useState)(!1),j=Object(u.a)(b,2),h=j[0],g=j[1],p=c.isAdminUserLoggedIn;return Object(r.useEffect)((function(){l.a.auth().onAuthStateChanged((function(e){o({isAdminUserLoggedIn:!!e,user:e}),g(!0)}))}),[o]),h?p&&t.pathname===a.b?Object(f.jsx)(s.a,{to:a.a}):p||t.pathname===a.b?Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(i.a,{}),children:Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{path:a.b,component:m}),Object(f.jsx)(s.b,{component:O})]})}):Object(f.jsx)(s.a,{to:a.b}):Object(f.jsx)(i.a,{})},p=n(61),v=n(11);t.a=function(e){var t=e.location.pathname;return Object(p.a)(a.a,t)?Object(f.jsx)(v.b,{children:Object(f.jsx)(g,Object(c.a)({},e))}):Object(f.jsx)(h,Object(c.a)({},e))}},9:function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"n",(function(){return r})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return p}));var c="/",r="/login",o="/reservas",a="/agendar",u="/mais",s="".concat(a,"/checkout"),i="".concat(a,"/escolher-profissional"),l="".concat(a,"/escolher-data"),d="/admin",f="".concat(d,"/login"),b="".concat(d,"/procedimentos"),j="".concat(d,"/procedimentos/novo"),h="".concat(d,"/procedimentos/atualizar"),O="".concat(d,"/profissionais"),m="".concat(d,"/profissionais/novo"),g="".concat(d,"/profissionais/atualizar"),p=("".concat(d,"/agendamentos"),"".concat(d,"/configuracoes"))}},[[100,9,11]]]);
//# sourceMappingURL=main.59dbc8b1.chunk.js.map