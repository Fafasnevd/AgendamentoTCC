(this["webpackJsonpweb-scheduling"]=this["webpackJsonpweb-scheduling"]||[]).push([[28],{407:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return R}));var n=c(150),a=c.n(n),s=c(151),r=c(164),i=c(47),j=c(230),o=c(36),l=c(20),b=c(10),u=c(254),O=c(243),d=c(367),m=c(256),x=c(199),f=c(229),h=c(197),p=c(177),v=c(244),g=c(365),y=c(382),k=c(255),w=c(387),C=c(227),S=c(380),P=c(35),E=c(1),D=c(130),I=c(152),J=c(3);var R=function(){var e=Object(E.useState)((function(){return[]})),t=Object(b.a)(e,2),c=t[0],n=t[1];Object(E.useEffect)((function(){G()}),[]);var R=Object(P.d)().addProcedure,q=Object(E.useState)((function(){return{name:"",time:""}})),A=Object(b.a)(q,2),H=A[0],T=A[1],U=Object(E.useState)((function(){return{}})),V=Object(b.a)(U,2),W=V[0],z=V[1],B=Object(P.d)(),F=B.professionals,G=B.fetchProfessionals,K=Object(E.useState)((function(){return""})),L=Object(b.a)(K,2),M=L[0],N=L[1],Q=Object(E.useRef)(),X=Object(E.useState)((function(){return{open:!1,success:!1,message:""}})),Y=Object(b.a)(X,2),Z=Y[0],$=Y[1],_=function(){var e=0;return(void 0===W||Object.keys(W).length<1)&&e++,""!==H.name&&""!==H.time||e++,e>0},ee=function(e){var t=e.target,c=t.name,n=t.value;T((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},c,n))})),console.log(H)};Object(E.useEffect)((function(){F&&n(Object(r.a)(Object.keys(F).map((function(e){return Object(l.a)({id:e},F[e])}))))}),[F]);var te=function(){var e=Object(s.a)(a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("erro? ",_()),_()){e.next=7;break}return t=Object(l.a)(Object(l.a)({},H),{},{price:W}),e.next=5,R(t);case 5:c=e.sent,$({open:!0,success:c.success,message:c.message});case 7:T({name:"",time:""}),z([]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(D.b,{children:Object(J.jsx)(u.a,{container:!0,spacing:4,children:Object(J.jsxs)(u.a,{item:!0,xs:12,children:[Object(J.jsxs)(D.i,{children:[_()&&Object(J.jsx)(S.a,{variant:"filled",severity:"error",children:"Preencha todos os campos e adicione valores"}),Object(J.jsx)(D.f,{children:"Adicionar procedimento"}),Object(J.jsxs)(u.a,{container:!0,spacing:1,children:[Object(J.jsx)(D.l,{value:H.name,name:"name",onChange:ee,variant:"outlined",label:"Procedimento",sm:9,xs:12}),Object(J.jsx)(D.l,{value:H.time,name:"time",onChange:ee,variant:"outlined",label:"Tempo",sm:3,xs:4})]}),Object(J.jsx)(D.k,{}),Object(J.jsx)(D.f,{children:"Valores"}),Object(J.jsx)(O.a,{}),Object(J.jsx)(D.k,{}),Object(J.jsx)(u.a,{item:!0,xs:12,children:Object(J.jsx)(u.a,{container:!0,justify:"center",children:Object(J.jsx)(u.a,{item:!0,lg:4,md:4,sm:10,xs:12,children:Object(J.jsx)(d.a,{children:!!W&&Object.keys(W).map((function(e){var t,c=F[e],n=W[e];return Object(J.jsxs)(m.a,{children:[Object(J.jsx)(x.a,{children:Object(J.jsx)(f.a,{alt:c.name.toUpperCase(),src:c.photo})}),Object(J.jsx)(h.a,{primary:c.name,secondary:Object(I.b)(n)}),Object(J.jsx)(p.a,{children:Object(J.jsx)(v.a,{onClick:(t=e,function(e){W[t];var c=Object(i.a)(W,[t].map(j.a));z(c)}),children:Object(J.jsx)(C.a,{})})})]},e)}))})})})}),!!c&&Object(J.jsx)(u.a,{item:!0,children:Object(J.jsxs)(u.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(J.jsx)(u.a,{item:!0,sm:4,xs:10,children:Object(J.jsx)(g.a,{variant:"outlined",style:{width:"100%"},children:Object(J.jsxs)(y.a,{labelId:"simple-select-label",value:M,displayEmpty:!0,fullWidth:!0,onChange:function(e){N(e.target.value)},children:[Object(J.jsx)(k.a,{value:"",disabled:!0,children:Object(J.jsx)("em",{children:"Selecione um profissional"})}),c.map((function(e){return Object(J.jsx)(k.a,{value:e.id,children:e.name},e.id)}))]})})}),Object(J.jsx)(u.a,{item:!0,sm:3,xs:7,children:Object(J.jsx)(D.l,{required:!0,inputRef:Q,inputProps:{type:"number",min:0},label:"valor"})}),Object(J.jsx)(u.a,{item:!0,xs:2,children:Object(J.jsx)(D.a,{onClick:function(){var e=Q.current.value;M&&(z((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},M,e))})),Q.current.value=null)},to:"#",variant:"contained",color:"secondary",children:"Definir"})})]})}),Object(J.jsx)(D.k,{}),Object(J.jsx)(O.a,{}),Object(J.jsx)(D.k,{}),Object(J.jsx)(u.a,{container:!0,item:!0,justify:"center",children:Object(J.jsx)(D.a,{onClick:te,to:"#",variant:"contained",color:"primary",children:"Salvar"})})]}),Object(J.jsx)(w.a,{open:Z.open,onClose:function(){$({open:!1,message:""})},autoHideDuration:3e3,children:Object(J.jsx)(S.a,{variant:"filled",severity:Z.success?"success":"error",children:Z.message})},Z.message)]})})})}}}]);
//# sourceMappingURL=28.1c2fc9cf.chunk.js.map