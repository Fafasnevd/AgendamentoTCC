(this["webpackJsonpweb-scheduling"]=this["webpackJsonpweb-scheduling"]||[]).push([[30],{408:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var c=n(150),a=n.n(c),s=n(151),r=n(47),i=n(230),j=n(36),o=n(20),l=n(164),u=n(10),b=n(254),O=n(243),d=n(367),m=n(256),x=n(199),f=n(229),h=n(197),p=n(177),v=n(244),g=n(365),y=n(382),k=n(255),w=n(242),C=n(387),S=n(227),P=n(380),D=n(35),E=n(1),z=n(6),A=n(9),I=n(130),J=n(152),R=n(3);var T=function(e){var t=e.location,n=e.history;if(!t.state)return Object(R.jsx)(z.a,{to:A.c});var c=t.state.procedure,T=Object(D.d)().updateProcedure,q=Object(E.useState)((function(){return{name:"",time:""}})),B=Object(u.a)(q,2),H=B[0],U=B[1],V=Object(E.useState)((function(){return c.price})),W=Object(u.a)(V,2),F=W[0],G=W[1],K=Object(D.d)(),L=K.professionals,M=K.fetchProfessionals,N=Object(E.useState)((function(){return[]})),Q=Object(u.a)(N,2),X=Q[0],Y=Q[1],Z=Object(E.useState)((function(){return""})),$=Object(u.a)(Z,2),_=$[0],ee=$[1],te=Object(E.useRef)();Object(E.useEffect)((function(){M(),U({id:c.id,name:c.name,time:c.time})}),[]),Object(E.useEffect)((function(){Y(Object(l.a)(Object.keys(L).map((function(e){return Object(o.a)({id:e},L[e])}))))}),[L,t]);var ne=Object(E.useState)((function(){return{open:!1,success:!1,message:""}})),ce=Object(u.a)(ne,2),ae=ce[0],se=ce[1],re=function(){var e=0;return Object.keys(F).length<1&&e++,""!==H.name&&""!==H.time||e++,e>0},ie=function(e){var t=e.target,n=t.name,c=t.value;U((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))})),console.log(H)},je=function(){var e=Object(s.a)(a.a.mark((function e(){var t,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("erro? ",re()),re()){e.next=9;break}return t=Object(o.a)(Object(o.a)({},H),{},{price:F}),e.next=5,T(t);case 5:c=e.sent,se({open:!0,success:c.success,message:c.message}),setTimeout((function(){n.goBack()}),1800),U({name:"",time:""}),G([]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)(I.b,{children:Object(R.jsx)(b.a,{container:!0,spacing:4,children:Object(R.jsxs)(b.a,{item:!0,xs:12,children:[Object(R.jsxs)(I.i,{children:[re()&&Object(R.jsx)(P.a,{variant:"filled",severity:"error",children:"Preencha todos os campos e adicione valores"}),Object(R.jsx)(I.f,{children:"Atualizar procedimento"}),Object(R.jsxs)(b.a,{container:!0,spacing:1,children:[Object(R.jsx)(I.l,{value:H.name,name:"name",onChange:ie,variant:"outlined",label:"Procedimento",sm:9,xs:12}),Object(R.jsx)(I.l,{value:H.time,name:"time",onChange:ie,variant:"outlined",label:"Tempo",sm:3,xs:4})]}),Object(R.jsx)(I.k,{}),Object(R.jsx)(I.f,{children:"Valores"}),Object(R.jsx)(O.a,{}),Object(R.jsx)(I.k,{}),Object(R.jsx)(b.a,{item:!0,xs:12,children:Object(R.jsx)(b.a,{container:!0,justify:"center",children:Object(R.jsx)(b.a,{item:!0,lg:4,md:4,sm:10,xs:12,children:Object(R.jsx)(d.a,{children:0!=Object.keys(L)&&Object.keys(F).map((function(e){var t,n=L[e],c=F[e];return Object(R.jsxs)(m.a,{children:[Object(R.jsx)(x.a,{children:Object(R.jsx)(f.a,{alt:n.name.toUpperCase(),src:n.photo})}),Object(R.jsx)(h.a,{primary:n.name,secondary:Object(J.b)(c)}),Object(R.jsx)(p.a,{children:Object(R.jsx)(v.a,{onClick:(t=e,function(){F[t];var e=Object(r.a)(F,[t].map(i.a));G(e)}),children:Object(R.jsx)(S.a,{})})})]},e)}))})})})}),X.length>0&&Object(R.jsx)(b.a,{item:!0,children:Object(R.jsxs)(b.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(R.jsx)(b.a,{item:!0,sm:4,xs:10,children:Object(R.jsx)(g.a,{variant:"outlined",style:{width:"100%"},children:Object(R.jsxs)(y.a,{labelId:"simple-select-label",value:_,displayEmpty:!0,fullWidth:!0,onChange:function(e){ee(e.target.value)},children:[Object(R.jsx)(k.a,{value:"",disabled:!0,children:Object(R.jsx)("em",{children:"Selecione um profissional"})}),X.map((function(e){return Object(R.jsx)(k.a,{value:e.id,children:e.name},e.id)}))]})})}),Object(R.jsx)(b.a,{item:!0,sm:3,xs:7,children:Object(R.jsx)(I.l,{required:!0,inputRef:te,inputProps:{type:"number",min:0},label:"valor"})}),Object(R.jsx)(b.a,{item:!0,xs:2,children:Object(R.jsx)(w.a,{onClick:function(e){e.preventDefault();var t=te.current.value;_&&(G((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},_,t))})),te.current.value=null)},to:"#",variant:"contained",color:"secondary",children:"Definir"})})]})}),Object(R.jsx)(I.k,{}),Object(R.jsx)(O.a,{}),Object(R.jsx)(I.k,{}),Object(R.jsx)(b.a,{container:!0,item:!0,justify:"center",children:Object(R.jsx)(w.a,{onClick:je,variant:"contained",color:"primary",children:"Atualizar"})})]}),Object(R.jsx)(C.a,{open:ae.open,onClose:function(){se({open:!1,message:""})},autoHideDuration:3e3,children:Object(R.jsx)(P.a,{variant:"filled",severity:ae.success?"success":"error",children:ae.message})},ae.message)]})})})}}}]);
//# sourceMappingURL=30.76c34f29.chunk.js.map