{"version":3,"sources":["error.js","index.js","contexts/auth.js","contexts/admin-auth.js","contexts/database.js","contexts/order.js","contexts/application.js","services/firebase.js","services/firebaseConfig.js","hooks/auth.js","hooks/admin-auth.js","hooks/database.js","hooks/shopping-cart.js","hooks/application.js","utils/path-comparator.js","root.js","app-for-users.js","app-for-admin.js","app.js","routes.js"],"names":["ErrorBoundary","state","hasError","error","info","console","log","this","props","children","message","PureComponent","ReactDOM","render","document","getElementById","AuthContext","createContext","AuthProvider","useState","isUserLoggedIn","user","userInfo","setUserInfo","login","useCallback","provider","firebase","auth","GoogleAuthProvider","signInWithRedirect","logout","signOut","then","Provider","value","AdminAuthContext","AdminAuthProvider","adminInfo","setAdminInfo","email","pass","signInWithEmailAndPassword","catch","errorCode","code","errorMessage","createUser","createUserWithEmailAndPassword","DatabaseContext","PROFESSIONALS","PROCEDURES","SCHEDULES","DatabaseProvider","db","firestore","procedures","setProcedures","schedules","setSchedules","professionals","setProfessionals","userSchedules","setUserSchedules","fetchUserSchedules","collection","where","onSnapshot","snapshot","uSchedules","docs","map","doc","data","fetchProcedures","get","querySnapshot","id","addProcedure","procedure","add","docRef","success","fetchSchedules","submitSchedule","transation","updateProcedure","procedureWithoutID","update","fetchProfessionals","objects","forEach","Object","assign","deleteProcedure","delete","name","addProfessional","professional","updateProfessional","professionalWithoutID","deleteProfessional","ShoppingCartContext","ShoppingCartProvider","items","localStorage","getItem","JSON","parse","setItem","stringify","addSchedule","paymentDetails","setPaymentDetails","addScheduleToShoppingCart","schedule","concat","removeScheduleFromShoppingCart","scheduleToRemove","filter","item","setPaymentStatusDetails","paymentStatusDetails","resetShoppingCart","ApplicationContext","ApplicationProvider","useEffect","label","icon","Home","to","pathname","HOME","Event","RESERVATIONS","AddBox","SCHEDULE","MoreHoriz","MORE","toolbarItems","appState","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","useAuth","useContext","useAdminAuth","useDatabase","useShoppingCart","useApplication","pathStartWith","first","second","er","RegExp","search","theme","createMuiTheme","typography","useNextVariants","palette","primary","contrastText","dark","light","main","secondary","GlobalStyle","createGlobalStyle","hot","module","component","App","MainPage","lazy","Login","AppForUsers","location","didCheckUserIn","setDidCheckUserIn","onAuthStateChanged","firstName","displayName","split","LOGIN","CHECKOUT","fallback","LinearProgress","path","Main","AdminLogin","React","AppForAdmin","isAdminUserLoggedIn","ADMIN_LOGIN","ADMIN","currentPathname","CHOOSE_PROFESSIONAL","CHOOSE_DATE","ADMIN_PROCEDURES","ADMIN_PROCEDURES_ADD","ADMIN_PROCEDURES_UPDATE","ADMIN_PROFESSIONALS","ADMIN_PROFESSIONALS_ADD","ADMIN_PROFESSIONALS_UPDATE","ADMIN_SETTINGS"],"mappings":"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","file":"static/js/main.dcf40090.chunk.js","sourcesContent":["import { PureComponent } from 'react'\r\nimport t from 'prop-types'\r\n\r\nclass ErrorBoundary extends PureComponent {\r\n  state = { hasError: false }\r\n\r\n  static propTypes = {\r\n    children: t.func.isRequired\r\n  }\r\n\r\n  static getDerivedStateFromError (error) {\r\n    console.log('error getDeliveredStateFromError', error.message)\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch (error, info) {\r\n    console.log('error', error)\r\n    console.log('info', info)\r\n  }\r\n\r\n  render () {\r\n    return this.props.children(this.state.hasError)\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './root'\r\nimport ErrorBoundary from './error'\r\n\r\nReactDOM.render(\r\n  <ErrorBoundary>\r\n    {(hasError) => (\r\n      <Root hasError={hasError} />\r\n    )}\r\n  </ErrorBoundary>,\r\n  document.getElementById('root')\r\n)\r\n","import React, {\r\n  createContext,\r\n  useCallback,\r\n  useState\r\n} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport firebase from 'services/firebase'\r\n\r\nconst AuthContext = createContext()\r\n\r\nfunction AuthProvider ({ children }) {\r\n  const [userInfo, setUserInfo] = useState({\r\n    isUserLoggedIn: false,\r\n    user: null\r\n  })\r\n\r\n  const login = useCallback(() => {\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    firebase.auth().signInWithRedirect(provider)\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    firebase.auth().signOut().then(() => {\r\n      console.log('o cara deslogou')\r\n      setUserInfo({\r\n        isUserLoggedIn: false,\r\n        user: null\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      login,\r\n      logout,\r\n      userInfo,\r\n      setUserInfo\r\n    }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n}\r\n\r\nexport { AuthProvider, AuthContext }\r\n","import React, { createContext, useCallback, useState } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport firebase from \"services/firebase\"\r\n\r\nconst AdminAuthContext = createContext()\r\n\r\nfunction AdminAuthProvider({ children }) {\r\n  const [adminInfo, setAdminInfo] = useState({\r\n    isUserLoggedIn: false,\r\n    user: null,\r\n  })\r\n\r\n  const login = useCallback((email, pass) => {\r\n    console.log(email, pass)\r\n    firebase.auth()\r\n      .signInWithEmailAndPassword(email, pass)\r\n      .then((user) => {\r\n        setAdminInfo({\r\n          isUserLoggedIn: !!user,\r\n          user,\r\n        })\r\n        console.log(\"USUARIO \", user)\r\n      })\r\n      .catch((error) => {\r\n        var errorCode = error.code\r\n        var errorMessage = error.message\r\n\r\n        console.log(\"ERRO ADMIN LOGIN \", errorCode, errorMessage)\r\n      })\r\n  }, [])\r\n\r\n  const createUser = useCallback((email, pass) => {\r\n\r\n\r\n    firebase.auth()\r\n      .createUserWithEmailAndPassword(email, pass)\r\n      .then((user) => {\r\n        setAdminInfo({\r\n          isUserLoggedIn: !!user,\r\n          user,\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        var errorCode = error.code\r\n        var errorMessage = error.message\r\n   \r\n        console.log(\"ERRRO CRIAR USER \", errorCode, errorMessage)\r\n\r\n      })\r\n  }, [])\r\n\r\n  const logout = useCallback(() => {\r\n    firebase.auth()\r\n      .signOut()\r\n      .then(() => {\r\n        console.log(\"o cara deslogou\")\r\n        setAdminInfo({\r\n          isUserLoggedIn: false,\r\n          user: null,\r\n        })\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <AdminAuthContext.Provider\r\n      value={{\r\n        login,\r\n        logout,\r\n        createUser,\r\n        adminInfo,\r\n        setAdminInfo,\r\n      }}\r\n    >\r\n      {children}\r\n    </AdminAuthContext.Provider>\r\n  )\r\n}\r\n\r\nAdminAuthProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport { AdminAuthProvider, AdminAuthContext }\r\n","import React, { createContext, useCallback, useState } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport firebase from \"services/firebase\"\r\nconst DatabaseContext = createContext()\r\n\r\nconst PROFESSIONALS = \"admin/scheduling/professionals\"\r\nconst PROCEDURES = \"admin/scheduling/procedures\"\r\nconst SCHEDULES = \"schedules\"\r\n\r\nfunction DatabaseProvider({ children }) {\r\n  const db = firebase.firestore()\r\n  const [procedures, setProcedures] = useState(() => [])\r\n  const [schedules, setSchedules] = useState(() => [])\r\n  const [professionals, setProfessionals] = useState(() => ({}))\r\n  const [userSchedules, setUserSchedules] = useState(() => [])\r\n\r\n  const fetchUserSchedules = useCallback((userInfo) => {\r\n    const schedulesRef = db.collection(SCHEDULES)\r\n    const query = schedulesRef.where(\"userEmail\", \"==\", userInfo.user.email)\r\n\r\n    query.onSnapshot((snapshot) => {\r\n      let uSchedules =  snapshot.docs.map(doc => doc.data())\r\n      console.log(\"uSchedules\", uSchedules);\r\n      setUserSchedules(uSchedules)\r\n    })\r\n  }, [])\r\n\r\n  const fetchProcedures = useCallback(() => {\r\n    db.collection(PROCEDURES)\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let procedures = querySnapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }))\r\n        setProcedures(procedures)\r\n      })\r\n  }, [])\r\n\r\n  const addProcedure = useCallback((procedure) => {\r\n    const res = db\r\n      .collection(PROCEDURES)\r\n      .add(procedure)\r\n      .then((docRef) => {\r\n        return {\r\n          success: true,\r\n          message: \"Procedimento adicionado!\",\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        return {\r\n          success: false,\r\n          message: \"Houve um erro.\",\r\n        }\r\n      })\r\n    return res\r\n  }, [])\r\n\r\n  const fetchSchedules = useCallback(() => {\r\n    db.collection(SCHEDULES).onSnapshot((snapshot) => {\r\n      let schedules = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }))\r\n      setSchedules(schedules)\r\n    })\r\n  }, [])\r\n\r\n  const submitSchedule = useCallback((transation) => {\r\n    const res = db\r\n      .collection(SCHEDULES)\r\n      .add(transation)\r\n      .then((docRef) => {\r\n        return {\r\n          success: true,\r\n          message: \"Pagamento salvo!\",\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        return {\r\n          success: false,\r\n          message: \"Houve um erro.\",\r\n        }\r\n      })\r\n    return res\r\n  }, [])\r\n\r\n  const updateProcedure = useCallback((procedure) => {\r\n    let { id, ...procedureWithoutID } = procedure\r\n\r\n    const procedureRef = db.collection(PROCEDURES).doc(id)\r\n    const res = procedureRef\r\n      .update({\r\n        ...procedureWithoutID,\r\n      })\r\n      .then(() => {\r\n        return {\r\n          success: true,\r\n          message: \"Procedimento atualizado!\",\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"updateProcedure error\", error)\r\n        return {\r\n          success: false,\r\n          message: \"Houve um erro ao atualizar.\",\r\n        }\r\n      })\r\n\r\n    return res\r\n  }, [])\r\n\r\n  const fetchProfessionals = useCallback(() => {\r\n    return db\r\n      .collection(PROFESSIONALS)\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        let objects = {}\r\n        querySnapshot.forEach((doc) => {\r\n          Object.assign(objects, {\r\n            [doc.id]: doc.data(),\r\n          })\r\n        })\r\n        setProfessionals(objects)\r\n      })\r\n  }, [])\r\n\r\n  const deleteProcedure = useCallback((procedure) => {\r\n    const procedureRef = db.collection(PROCEDURES).doc(procedure.id)\r\n    const res = procedureRef\r\n      .delete()\r\n      .then(() => {\r\n        return {\r\n          success: true,\r\n          message: `${procedure.name} excluido(a)!`,\r\n        }\r\n      })\r\n      .then((data) => {\r\n        return data\r\n      })\r\n      .catch(() => {\r\n        return {\r\n          success: true,\r\n          message: \"Houve um erro ao excluir.\",\r\n        }\r\n      })\r\n    return res\r\n  }, [])\r\n\r\n  const addProfessional = useCallback((professional) => {\r\n    const res = db\r\n      .collection(PROFESSIONALS)\r\n      .add(professional)\r\n      .then((docRef) => {\r\n        return {\r\n          success: true,\r\n          message: \"Profissional adicionado!\",\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        return {\r\n          success: false,\r\n          message: \"Houve um erro.\",\r\n        }\r\n      })\r\n    return res\r\n  }, [])\r\n\r\n  const updateProfessional = useCallback((professional) => {\r\n    let { id, ...professionalWithoutID } = professional\r\n    const professionalRef = db.collection(PROFESSIONALS).doc(id)\r\n    const res = professionalRef\r\n      .update({\r\n        ...professionalWithoutID,\r\n      })\r\n      .then(() => {\r\n        return {\r\n          success: true,\r\n          message: \"Profissional atualizado!\",\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"updateProfessional error\", error)\r\n        return {\r\n          success: false,\r\n          message: \"Houve um erro ao atualizar.\",\r\n        }\r\n      })\r\n\r\n    return res\r\n  }, [])\r\n\r\n  const deleteProfessional = useCallback((professional) => {\r\n    const professionalRef = db.collection(PROFESSIONALS).doc(professional.id)\r\n    const res = professionalRef\r\n      .delete()\r\n      .then(() => {\r\n        return {\r\n          success: true,\r\n          message: `${professional.name} excluido(a)!`,\r\n        }\r\n      })\r\n      .then((data) => {\r\n        return data\r\n      })\r\n      .catch(() => {\r\n        return {\r\n          success: true,\r\n          message: \"Houve um erro ao excluir.\",\r\n        }\r\n      })\r\n    return res\r\n  }, [])\r\n\r\n  return (\r\n    <DatabaseContext.Provider\r\n      value={{\r\n        procedures,\r\n        addProcedure,\r\n        schedules,\r\n        fetchSchedules,\r\n        submitSchedule,\r\n        updateProcedure,\r\n        fetchProcedures,\r\n        deleteProcedure,\r\n        professionals,\r\n        fetchProfessionals,\r\n        addProfessional,\r\n        updateProfessional,\r\n        deleteProfessional,\r\n        userSchedules,\r\n        fetchUserSchedules\r\n      }}\r\n    >\r\n      {children}\r\n    </DatabaseContext.Provider>\r\n  )\r\n}\r\n\r\nDatabaseProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n}\r\n\r\nexport { DatabaseProvider, DatabaseContext }\r\n","import t from \"prop-types\"\r\nimport React, { createContext, useState, useEffect } from \"react\"\r\nconst ShoppingCartContext = createContext()\r\n\r\nfunction ShoppingCartProvider({ children }) {\r\n\r\n  const [schedules, addSchedule] = useState(() => {\r\n   let items =  localStorage.getItem(\"schedules\") \r\n   if(items !== null){\r\n    return JSON.parse(items)\r\n   }\r\n     localStorage.setItem(\"schedules\", JSON.stringify([]))\r\n     return []\r\n   \r\n})\r\n\r\n  const [paymentDetails, setPaymentDetails] = useState(() => ({}))\r\n\r\n  function addScheduleToShoppingCart(schedule) {\r\n    addSchedule((schedules) => {\r\n      let items = schedules.concat(schedule)\r\n      localStorage.setItem(\"schedules\", JSON.stringify(items))\r\n      return items\r\n    })\r\n  }\r\n\r\n  function removeScheduleFromShoppingCart(scheduleToRemove) {\r\n    addSchedule((schedules) => {\r\n      let items = schedules.filter((item) => item !== scheduleToRemove)\r\n      localStorage.setItem(\"schedules\", JSON.stringify(items))\r\n      return items\r\n    })\r\n  }\r\n\r\n  function resetShoppingCart(){\r\n    addSchedule([])\r\n    localStorage.setItem(\"schedules\", JSON.stringify([]))\r\n  }\r\n\r\n  function setPaymentStatusDetails(paymentStatusDetails) {\r\n    setPaymentDetails(paymentStatusDetails)\r\n  }\r\n\r\n  return (\r\n    <ShoppingCartContext.Provider\r\n      value={{\r\n        schedules,\r\n        addScheduleToShoppingCart,\r\n        removeScheduleFromShoppingCart,\r\n        paymentDetails,\r\n        setPaymentStatusDetails,\r\n        resetShoppingCart\r\n      }}\r\n    >\r\n      {children}\r\n    </ShoppingCartContext.Provider>\r\n  )\r\n}\r\n\r\nShoppingCartProvider.propTypes = {\r\n  children: t.node.isRequired,\r\n}\r\n\r\nexport { ShoppingCartProvider, ShoppingCartContext }\r\n","import React, { createContext, useState, useEffect } from 'react'\r\nimport t from 'prop-types'\r\nimport {\r\n  Home as HomeIcon,\r\n  Event as EventIcon,\r\n  AddBox as AddBoxIcon,\r\n  MoreHoriz as MoreHorizIcon\r\n} from '@material-ui/icons'\r\nimport { HOME, RESERVATIONS, SCHEDULE, MORE } from 'routes'\r\nconst ApplicationContext = createContext()\r\n\r\nfunction ApplicationProvider ({ children}) {\r\n  \r\n  useEffect(() => {\r\n   // console.log(\"ApplicationContext\", location)\r\n  })\r\n  \r\n  const items = [\r\n    {\r\n      label: 'Home',\r\n      icon: <HomeIcon />,\r\n      to: { pathname: HOME },\r\n    },\r\n    {\r\n      label: 'Reservas',\r\n      icon: <EventIcon />,\r\n      to: { pathname: RESERVATIONS },\r\n    },\r\n    {\r\n      label: 'Agendar',\r\n      icon: <AddBoxIcon />,\r\n      to: { pathname: SCHEDULE },\r\n    },\r\n    {\r\n      label: 'Mais',\r\n      icon: <MoreHorizIcon />,\r\n      to: { pathname: MORE },\r\n    }\r\n  ]\r\n    const [toolbarItems] = useState(items)\r\n\r\n  return (\r\n    <ApplicationContext.Provider value={{\r\n      appState: {toolbarItems},\r\n    }}>\r\n      {children}\r\n    </ApplicationContext.Provider>\r\n  )\r\n}\r\n\r\nApplicationProvider.propTypes = {\r\n  children: t.node.isRequired\r\n}\r\n\r\nexport { ApplicationProvider, ApplicationContext }\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\nimport firebaseConfig from './firebaseConfig'\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig)\r\n}\r\n\r\nexport default firebase\r\n","export default {\r\n    apiKey: \"AIzaSyC7LoaM9pv0tdzjnPDFXNyXWrmqMwC7LXQ\",\r\n    authDomain: \"agendamento-web-ea083.firebaseapp.com\",\r\n    projectId: \"agendamento-web-ea083\",\r\n    storageBucket: \"agendamento-web-ea083.appspot.com\",\r\n    messagingSenderId: \"227455752712\",\r\n    appId: \"1:227455752712:web:6b03c4cf23da9c14910fbd\",\r\n    measurementId: \"G-TEKG6V9T0W\"\r\n}","import { useContext } from 'react'\r\nimport { AuthContext } from 'contexts'\r\n\r\nfunction useAuth () {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport default useAuth\r\n","import { useContext } from 'react'\r\nimport { AdminAuthContext } from 'contexts'\r\n\r\nfunction useAdminAuth () {\r\n  return useContext(AdminAuthContext)\r\n}\r\n\r\nexport default useAdminAuth\r\n","import { useContext } from 'react'\r\nimport { DatabaseContext } from 'contexts'\r\n\r\nfunction useDatabase () {\r\n  return useContext(DatabaseContext)\r\n}\r\n\r\nexport default useDatabase\r\n","import { useContext } from 'react'\r\nimport { ShoppingCartContext } from 'contexts'\r\n\r\nfunction useShoppingCart () {\r\n  return useContext(ShoppingCartContext)\r\n}\r\n\r\nexport default useShoppingCart","import { useContext } from 'react'\r\nimport { ApplicationContext } from 'contexts'\r\n\r\nfunction useApplication () {\r\n  return useContext(ApplicationContext)\r\n}\r\n\r\nexport default useApplication","function pathStartWith (first, second){\r\n  const er = new RegExp(`^${first}`, 'ig')\r\n  return second.search(er) > -1\r\n}\r\n\r\nexport default pathStartWith","import React from 'react'\r\nimport { hot } from 'react-hot-loader'\r\nimport { ThemeProvider, createGlobalStyle } from 'styled-components'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport {\r\n  CssBaseline,\r\n  createMuiTheme,\r\n  MuiThemeProvider\r\n} from '@material-ui/core'\r\nimport { AuthProvider, DatabaseProvider, ShoppingCartProvider, ApplicationProvider } from 'contexts'\r\nimport App from './app'\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    useNextVariants: true\r\n  },\r\n  palette: {\r\n    primary: {\r\n      contrastText: \"#fff\",\r\n      dark: \"#560027\",\r\n      light: \"#bc477b\",\r\n      main: \"#880e4f\",\r\n    },\r\n    secondary: {\r\n      contrastText: \"#fff\",\r\n      dark: \"#78002e\",\r\n      light: \"#e35083\",\r\n      main: \"#ad1357\",\r\n    }\r\n  },\r\n})\r\n\r\nconsole.log('theme', theme)\r\n\r\nconst Root = () => {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <ThemeProvider theme={theme}>\r\n        <AuthProvider>\r\n          <DatabaseProvider>\r\n            <ShoppingCartProvider>\r\n              <ApplicationProvider>\r\n                <CssBaseline />\r\n                <GlobalStyle />\r\n                <BrowserRouter>\r\n                  <Route component={App} />\r\n                </BrowserRouter>\r\n              </ApplicationProvider>\r\n            </ShoppingCartProvider>\r\n          </DatabaseProvider>\r\n        </AuthProvider>\r\n      </ThemeProvider>\r\n    </MuiThemeProvider>\r\n  )\r\n}\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  #root{\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-height: 100vh;\r\n  }\r\n`\r\n\r\nexport default hot(module)(Root)\r\n","import React, { Suspense, lazy, useEffect, useState } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport firebase from 'services/firebase'\r\nimport { CHECKOUT, HOME, LOGIN } from 'routes'\r\nimport { useAuth } from 'hooks'\r\n\r\nconst MainPage = lazy(() => import('pages/main'))\r\nconst Login = lazy(() => import('pages/login'))\r\n\r\nfunction AppForUsers ({ location }) {\r\n  const { userInfo, setUserInfo } = useAuth()\r\n  const [didCheckUserIn, setDidCheckUserIn] = useState(false)\r\n  const { isUserLoggedIn } = userInfo\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setUserInfo({\r\n        isUserLoggedIn: !!user,\r\n        // isUserLoggedIn: true,\r\n        user: user && {\r\n          ...user,\r\n          firstName: user.displayName.split(' ')[0]\r\n        }\r\n      })\r\n      setDidCheckUserIn(true)\r\n    })\r\n  }, [setUserInfo])\r\n\r\n  if (!didCheckUserIn) {\r\n    return <LinearProgress />\r\n  }\r\n\r\n  if (isUserLoggedIn && location.pathname === LOGIN) {\r\n    return <Redirect to={CHECKOUT} />\r\n  }\r\n\r\n  if (!isUserLoggedIn && location.pathname == CHECKOUT) {\r\n    return <Redirect to={LOGIN} />\r\n  }\r\n\r\n  return (\r\n    <Suspense fallback={<LinearProgress />}>\r\n      <Switch>\r\n        <Route path={LOGIN} component={Login} />\r\n        <Route component={MainPage} />\r\n      </Switch>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nAppForUsers.propTypes = {\r\n  location: PropTypes.object.isRequired\r\n}\r\n\r\nexport default AppForUsers\r\n","import React, { Suspense, lazy, useEffect, useState } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport firebase from 'services/firebase'\r\nimport { ADMIN, ADMIN_LOGIN } from 'routes'\r\nimport { useAdminAuth } from 'hooks'\r\n\r\nconst Main = lazy(() => import('pages/admin/main'))\r\nconst AdminLogin = React.lazy(\r\n  () => import('pages/admin/login')\r\n)\r\n\r\n\r\nfunction AppForAdmin ({ location }) {\r\n\r\n  const { adminInfo, setAdminInfo } = useAdminAuth()\r\n  const [didCheckUserIn, setDidCheckUserIn] = useState(false)\r\n  const { isAdminUserLoggedIn } = adminInfo\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      setAdminInfo({\r\n        isAdminUserLoggedIn: !!user,\r\n        // isUserLoggedIn: true,\r\n        user\r\n      })\r\n      setDidCheckUserIn(true)\r\n    })\r\n  }, [setAdminInfo])\r\n\r\n  if (!didCheckUserIn) {\r\n    return <LinearProgress />\r\n  }\r\n\r\n  if (isAdminUserLoggedIn && location.pathname === ADMIN_LOGIN) {\r\n    return <Redirect to={ADMIN} />\r\n  }\r\n\r\n  if (!isAdminUserLoggedIn && location.pathname !== ADMIN_LOGIN) {\r\n    return <Redirect to={ADMIN_LOGIN} />\r\n  }\r\n\r\n\r\n  return (\r\n    <Suspense fallback={<LinearProgress />}>\r\n      <Switch>\r\n        <Route path={ADMIN_LOGIN} component={AdminLogin} />\r\n        <Route component={Main} />\r\n      </Switch>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nAppForAdmin.propTypes = {\r\n  location: PropTypes.object.isRequired\r\n}\r\n\r\nexport default AppForAdmin\r\n","import React from \"react\"\r\nimport { ADMIN } from \"routes\"\r\nimport AppForUsers from \"./app-for-users\"\r\nimport AppForAdmin from \"./app-for-admin\"\r\nimport pathStartWith from \"utils/path-comparator\"\r\nimport { AdminAuthProvider } from \"contexts\"\r\n\r\nfunction App(props) {\r\n  const currentPathname = props.location.pathname\r\n  if (pathStartWith(ADMIN, currentPathname)) {\r\n    return (\r\n      <AdminAuthProvider>\r\n        <AppForAdmin {...props} />\r\n      </AdminAuthProvider>\r\n    )\r\n  }\r\n  return <AppForUsers {...props} />\r\n}\r\n\r\nexport default App\r\n","export const HOME = '/'\r\nexport const LOGIN = '/login'\r\nexport const RESERVATIONS = '/reservas'\r\nexport const SCHEDULE = '/agendar'\r\nexport const MORE = '/mais'\r\nexport const CHECKOUT = `${SCHEDULE}/checkout`\r\nexport const CHOOSE_PROFESSIONAL = `${SCHEDULE}/escolher-profissional`\r\nexport const CHOOSE_DATE = `${SCHEDULE}/escolher-data`\r\n\r\nexport const ADMIN = `/admin`\r\nexport const ADMIN_LOGIN = `${ADMIN}/login`\r\n\r\nexport const ADMIN_PROCEDURES = `${ADMIN}/procedimentos`\r\nexport const ADMIN_PROCEDURES_ADD = `${ADMIN}/procedimentos/novo`\r\nexport const ADMIN_PROCEDURES_UPDATE = `${ADMIN}/procedimentos/atualizar`\r\n\r\nexport const ADMIN_PROFESSIONALS = `${ADMIN}/profissionais`\r\nexport const ADMIN_PROFESSIONALS_ADD = `${ADMIN}/profissionais/novo`\r\nexport const ADMIN_PROFESSIONALS_UPDATE = `${ADMIN}/profissionais/atualizar`\r\nexport const ADMIN_SCHEDULES = `${ADMIN}/agendamentos`\r\nexport const ADMIN_SETTINGS = `${ADMIN}/configuracoes`\r\n\r\n"],"sourceRoot":""}