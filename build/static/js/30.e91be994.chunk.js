(this["webpackJsonpsistema-agendamento"]=this["webpackJsonpsistema-agendamento"]||[]).push([[30],{901:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var c=n(163),a=n.n(c),s=n(164),r=n(205),i=n(47),j=n(435),o=n(37),l=n(20),b=n(10),u=n(461),O=n(454),d=n(851),m=n(451),x=n(412),f=n(434),h=n(299),p=n(242),v=n(449),g=n(861),y=n(876),k=n(450),C=n(881),S=n(432),w=n(874),P=n(35),E=n(1),D=n(136),I=n(179),J=n(3);var R=function(){var e=Object(E.useState)((function(){return[]})),t=Object(b.a)(e,2),n=t[0],c=t[1];Object(E.useEffect)((function(){G()}),[]);var R=Object(P.d)().addProcedure,q=Object(E.useState)((function(){return{name:"",time:""}})),A=Object(b.a)(q,2),H=A[0],T=A[1],U=Object(E.useState)((function(){return{}})),V=Object(b.a)(U,2),W=V[0],z=V[1],B=Object(P.d)(),F=B.professionals,G=B.fetchProfessionals,K=Object(E.useState)((function(){return""})),L=Object(b.a)(K,2),M=L[0],N=L[1],Q=Object(E.useRef)(),X=Object(E.useState)((function(){return{open:!1,success:!1,message:""}})),Y=Object(b.a)(X,2),Z=Y[0],$=Y[1],_=function(){var e=0;return(void 0===W||Object.keys(W).length<1)&&e++,""!==H.name&&""!==H.time||e++,e>0},ee=function(e){var t=e.target,n=t.name,c=t.value;T((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},n,c))})),console.log(H)};Object(E.useEffect)((function(){F&&c(Object(r.a)(Object.keys(F).map((function(e){return Object(l.a)({id:e},F[e])}))))}),[F]);var te=function(){var e=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("erro? ",_()),_()){e.next=7;break}return t=Object(l.a)(Object(l.a)({},H),{},{price:W}),e.next=5,R(t);case 5:n=e.sent,$({open:!0,success:n.success,message:n.message});case 7:T({name:"",time:""}),z([]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsx)(D.b,{children:Object(J.jsx)(u.a,{container:!0,spacing:4,children:Object(J.jsxs)(u.a,{item:!0,xs:12,children:[Object(J.jsxs)(D.i,{children:[_()&&Object(J.jsx)(w.a,{variant:"filled",severity:"error",children:"Preencha todos os campos e adicione valores"}),Object(J.jsx)(D.f,{children:"Adicionar procedimento"}),Object(J.jsxs)(u.a,{container:!0,spacing:1,children:[Object(J.jsx)(D.l,{value:H.name,name:"name",onChange:ee,variant:"outlined",label:"Procedimento",sm:9,xs:12}),Object(J.jsx)(D.l,{value:H.time,name:"time",onChange:ee,variant:"outlined",label:"Tempo",sm:3,xs:4})]}),Object(J.jsx)(D.k,{}),Object(J.jsx)(D.f,{children:"Valores"}),Object(J.jsx)(O.a,{}),Object(J.jsx)(D.k,{}),Object(J.jsx)(u.a,{item:!0,xs:12,children:Object(J.jsx)(u.a,{container:!0,justify:"center",children:Object(J.jsx)(u.a,{item:!0,lg:4,md:4,sm:10,xs:12,children:Object(J.jsx)(d.a,{children:!!W&&Object.keys(W).map((function(e){var t,n=F[e],c=W[e];return Object(J.jsxs)(m.a,{children:[Object(J.jsx)(x.a,{children:Object(J.jsx)(f.a,{alt:n.name.toUpperCase(),src:n.photo})}),Object(J.jsx)(h.a,{primary:n.name,secondary:Object(I.b)(c)}),Object(J.jsx)(p.a,{children:Object(J.jsx)(v.a,{onClick:(t=e,function(e){W[t];var n=Object(i.a)(W,[t].map(j.a));z(n)}),children:Object(J.jsx)(S.a,{})})})]},e)}))})})})}),!!n&&Object(J.jsx)(u.a,{item:!0,children:Object(J.jsxs)(u.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",children:[Object(J.jsx)(u.a,{item:!0,sm:4,xs:10,children:Object(J.jsx)(g.a,{variant:"outlined",style:{width:"100%"},children:Object(J.jsxs)(y.a,{labelId:"simple-select-label",value:M,displayEmpty:!0,fullWidth:!0,onChange:function(e){N(e.target.value)},children:[Object(J.jsx)(k.a,{value:"",disabled:!0,children:Object(J.jsx)("em",{children:"Selecione um profissional"})}),n.map((function(e){return Object(J.jsx)(k.a,{value:e.id,children:e.name},e.id)}))]})})}),Object(J.jsx)(u.a,{item:!0,sm:3,xs:7,children:Object(J.jsx)(D.l,{required:!0,inputRef:Q,inputProps:{type:"number",min:0},label:"valor"})}),Object(J.jsx)(u.a,{item:!0,xs:2,children:Object(J.jsx)(D.a,{onClick:function(){var e=Q.current.value;M&&(z((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},M,e))})),Q.current.value=null)},to:"#",variant:"contained",color:"secondary",children:"Definir"})})]})}),Object(J.jsx)(D.k,{}),Object(J.jsx)(O.a,{}),Object(J.jsx)(D.k,{}),Object(J.jsx)(u.a,{container:!0,item:!0,justify:"center",children:Object(J.jsx)(D.a,{onClick:te,to:"#",variant:"contained",color:"primary",children:"Salvar"})})]}),Object(J.jsx)(C.a,{open:Z.open,onClose:function(){$({open:!1,message:""})},autoHideDuration:3e3,children:Object(J.jsx)(w.a,{variant:"filled",severity:Z.success?"success":"error",children:Z.message})},Z.message)]})})})}}}]);
//# sourceMappingURL=30.e91be994.chunk.js.map